"use strict";
/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkofilm_web"] = self["webpackChunkofilm_web"] || []).push([["src_views_three_show_vue"],{

/***/ "./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/dist/stylePostLoader.js!./node_modules/less-loader/dist/cjs.js??clonedRuleSet-1.use[2]!./node_modules/vue-loader/dist/index.js??ruleSet[1].rules[6].use[0]!./src/views/three/show.vue?vue&type=style&index=0&id=6c9aa768&lang=less&scoped=true":
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/dist/stylePostLoader.js!./node_modules/less-loader/dist/cjs.js??clonedRuleSet-1.use[2]!./node_modules/vue-loader/dist/index.js??ruleSet[1].rules[6].use[0]!./src/views/three/show.vue?vue&type=style&index=0&id=6c9aa768&lang=less&scoped=true ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../node_modules/css-loader/dist/runtime/api.js */ \"./node_modules/css-loader/dist/runtime/api.js\");\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);\n// Imports\n\nvar ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()(function(i){return i[1]});\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".three-loading[data-v-6c9aa768] {\\n  position: absolute;\\n  width: 100%;\\n  height: 100%;\\n  left: 0;\\n  top: 0;\\n  z-index: 2;\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  justify-content: center;\\n}\\n.three-loading[data-v-6c9aa768] svg {\\n  width: 4em;\\n  height: 4em;\\n  color: #40a9ff;\\n}\\n.three-loading div[data-v-6c9aa768] {\\n  font-size: 20px;\\n  margin-top: 20px;\\n  color: #40a9ff;\\n}\\n.container[data-v-6c9aa768] {\\n  width: 100vw;\\n  height: 100vh;\\n  position: relative;\\n}\\n.button-area[data-v-6c9aa768] {\\n  position: fixed;\\n  left: 10px;\\n  top: 10px;\\n  display: flex;\\n  align-items: center;\\n}\\n.button-area button[data-v-6c9aa768] {\\n  margin-right: 10px;\\n}\\n#god[data-v-6c9aa768] {\\n  width: 100%;\\n  height: 100%;\\n}\\n#first[data-v-6c9aa768] {\\n  width: 400px;\\n  height: 400px;\\n  border: 1px solid #000;\\n  z-index: 1;\\n  position: absolute;\\n  right: 0;\\n  top: 0;\\n}\\n\", \"\"]);\n// Exports\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);\n\n\n//# sourceURL=webpack://ofilm-web/./src/views/three/show.vue?./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/dist/stylePostLoader.js!./node_modules/less-loader/dist/cjs.js??clonedRuleSet-1.use%5B2%5D!./node_modules/vue-loader/dist/index.js??ruleSet%5B1%5D.rules%5B6%5D.use%5B0%5D");

/***/ }),

/***/ "./node_modules/style-loader/dist/cjs.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/dist/stylePostLoader.js!./node_modules/less-loader/dist/cjs.js??clonedRuleSet-1.use[2]!./node_modules/vue-loader/dist/index.js??ruleSet[1].rules[6].use[0]!./src/views/three/show.vue?vue&type=style&index=0&id=6c9aa768&lang=less&scoped=true":
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/style-loader/dist/cjs.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/dist/stylePostLoader.js!./node_modules/less-loader/dist/cjs.js??clonedRuleSet-1.use[2]!./node_modules/vue-loader/dist/index.js??ruleSet[1].rules[6].use[0]!./src/views/three/show.vue?vue&type=style&index=0&id=6c9aa768&lang=less&scoped=true ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ \"./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !../../../node_modules/style-loader/dist/runtime/styleDomAPI.js */ \"./node_modules/style-loader/dist/runtime/styleDomAPI.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../node_modules/style-loader/dist/runtime/insertBySelector.js */ \"./node_modules/style-loader/dist/runtime/insertBySelector.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js */ \"./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! !../../../node_modules/style-loader/dist/runtime/insertStyleElement.js */ \"./node_modules/style-loader/dist/runtime/insertStyleElement.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! !../../../node_modules/style-loader/dist/runtime/styleTagTransform.js */ \"./node_modules/style-loader/dist/runtime/styleTagTransform.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_dist_stylePostLoader_js_node_modules_less_loader_dist_cjs_js_clonedRuleSet_1_use_2_node_modules_vue_loader_dist_index_js_ruleSet_1_rules_6_use_0_show_vue_vue_type_style_index_0_id_6c9aa768_lang_less_scoped_true__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! !!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/dist/stylePostLoader.js!../../../node_modules/less-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../../node_modules/vue-loader/dist/index.js??ruleSet[1].rules[6].use[0]!./show.vue?vue&type=style&index=0&id=6c9aa768&lang=less&scoped=true */ \"./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/dist/stylePostLoader.js!./node_modules/less-loader/dist/cjs.js??clonedRuleSet-1.use[2]!./node_modules/vue-loader/dist/index.js??ruleSet[1].rules[6].use[0]!./src/views/three/show.vue?vue&type=style&index=0&id=6c9aa768&lang=less&scoped=true\");\n\n      \n      \n      \n      \n      \n      \n      \n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());\noptions.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());\n\n      options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, \"head\");\n    \noptions.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());\noptions.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());\n\nvar update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_dist_stylePostLoader_js_node_modules_less_loader_dist_cjs_js_clonedRuleSet_1_use_2_node_modules_vue_loader_dist_index_js_ruleSet_1_rules_6_use_0_show_vue_vue_type_style_index_0_id_6c9aa768_lang_less_scoped_true__WEBPACK_IMPORTED_MODULE_6__.default, options);\n\n\n\n\n       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_dist_stylePostLoader_js_node_modules_less_loader_dist_cjs_js_clonedRuleSet_1_use_2_node_modules_vue_loader_dist_index_js_ruleSet_1_rules_6_use_0_show_vue_vue_type_style_index_0_id_6c9aa768_lang_less_scoped_true__WEBPACK_IMPORTED_MODULE_6__.default && _node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_dist_stylePostLoader_js_node_modules_less_loader_dist_cjs_js_clonedRuleSet_1_use_2_node_modules_vue_loader_dist_index_js_ruleSet_1_rules_6_use_0_show_vue_vue_type_style_index_0_id_6c9aa768_lang_less_scoped_true__WEBPACK_IMPORTED_MODULE_6__.default.locals ? _node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_dist_stylePostLoader_js_node_modules_less_loader_dist_cjs_js_clonedRuleSet_1_use_2_node_modules_vue_loader_dist_index_js_ruleSet_1_rules_6_use_0_show_vue_vue_type_style_index_0_id_6c9aa768_lang_less_scoped_true__WEBPACK_IMPORTED_MODULE_6__.default.locals : undefined);\n\n\n//# sourceURL=webpack://ofilm-web/./src/views/three/show.vue?./node_modules/style-loader/dist/cjs.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/dist/stylePostLoader.js!./node_modules/less-loader/dist/cjs.js??clonedRuleSet-1.use%5B2%5D!./node_modules/vue-loader/dist/index.js??ruleSet%5B1%5D.rules%5B6%5D.use%5B0%5D");

/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-2.use!./node_modules/vue-loader/dist/index.js??ruleSet[1].rules[6].use[0]!./src/views/three/show.vue?vue&type=script&lang=ts":
/*!*************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-2.use!./node_modules/vue-loader/dist/index.js??ruleSet[1].rules[6].use[0]!./src/views/three/show.vue?vue&type=script&lang=ts ***!
  \*************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vue */ \"./node_modules/vue/dist/vue.runtime.esm-bundler.js\");\n/* harmony import */ var _api_api__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/api/api */ \"./src/api/api.ts\");\n/* harmony import */ var _hooks_three_index__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../hooks/three/index */ \"./src/hooks/three/index.ts\");\n/* harmony import */ var vue_router__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! vue-router */ \"./node_modules/vue-router/dist/vue-router.esm-bundler.js\");\n/* harmony import */ var _config_common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../config/common */ \"./src/config/common.ts\");\n\r\n\r\n\r\n\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,vue__WEBPACK_IMPORTED_MODULE_0__.defineComponent)({\r\n    setup() {\r\n        let threeObj = {};\r\n        let firstViewObj = {};\r\n        const loading = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(false);\r\n        const route = (0,vue_router__WEBPACK_IMPORTED_MODULE_4__.useRoute)();\r\n        const router = (0,vue_router__WEBPACK_IMPORTED_MODULE_4__.useRouter)();\r\n        const selectValue = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(\"\");\r\n        const selectData = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)([]);\r\n        const firstViewShow = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(false);\r\n        const initModel = (url) => {\r\n            const Soldier = _config_common__WEBPACK_IMPORTED_MODULE_3__.request_url + \"/file/get?file=Soldier/Soldier.glb\";\r\n            const canvas = document.querySelector(\"#god\");\r\n            const firstCanvas = document.querySelector(\"#first\");\r\n            threeObj = new _hooks_three_index__WEBPACK_IMPORTED_MODULE_2__.ThreeReactive(canvas, window.innerWidth, window.innerHeight, true);\r\n            firstViewObj = new _hooks_three_index__WEBPACK_IMPORTED_MODULE_2__.ThreeReactive(firstCanvas, 400, 400, true);\r\n            threeObj.loadSceneModel(url, async (size) => { });\r\n            firstViewObj.loadSceneModel(url, async (size) => {\r\n                for (let i = 0; i < 20; i++) {\r\n                    const pos = threeObj.randomPos(size);\r\n                    await threeObj.loadPerson(Soldier, i + 1, pos);\r\n                    await firstViewObj.loadPerson(Soldier, i + 1, pos);\r\n                    selectData.value.push({\r\n                        label: \"员工\" + (i + 1),\r\n                        value: i + 1,\r\n                    });\r\n                }\r\n                // 插入测试数据;\r\n                for (let i = 0; i < 10; i++) {\r\n                    for (let j = 0; j < threeObj.personArr.length; j++) {\r\n                        const target = threeObj.randomPos(size);\r\n                        threeObj.personArr[j].target.push(target);\r\n                        firstViewObj.personArr[j].target.push(target);\r\n                    }\r\n                }\r\n            });\r\n        };\r\n        const handleChange = () => {\r\n            firstViewObj.setFirstViewPerson(selectValue.value);\r\n            firstViewShow.value = selectValue.value !== \"\";\r\n        };\r\n        const quitShow = () => {\r\n            router.go(-1);\r\n        };\r\n        (0,vue__WEBPACK_IMPORTED_MODULE_0__.onMounted)(async () => {\r\n            const query = route.query;\r\n            const res = await (0,_api_api__WEBPACK_IMPORTED_MODULE_1__.sceneGet)({\r\n                id: query.id,\r\n            });\r\n            const url = _config_common__WEBPACK_IMPORTED_MODULE_3__.request_url +\r\n                \"file/get?file=\" +\r\n                res.data.directoryName +\r\n                \"/\" +\r\n                res.data.fileName;\r\n            initModel(url);\r\n        });\r\n        return {\r\n            quitShow,\r\n            loading,\r\n            selectValue,\r\n            selectData,\r\n            handleChange,\r\n            firstViewShow,\r\n        };\r\n    },\r\n}));\r\n\n\n//# sourceURL=webpack://ofilm-web/./src/views/three/show.vue?./node_modules/ts-loader/index.js??clonedRuleSet-2.use!./node_modules/vue-loader/dist/index.js??ruleSet%5B1%5D.rules%5B6%5D.use%5B0%5D");

/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-2.use!./node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!./node_modules/vue-loader/dist/index.js??ruleSet[1].rules[6].use[0]!./src/views/three/show.vue?vue&type=template&id=6c9aa768&scoped=true":
/*!*****************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-2.use!./node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!./node_modules/vue-loader/dist/index.js??ruleSet[1].rules[6].use[0]!./src/views/three/show.vue?vue&type=template&id=6c9aa768&scoped=true ***!
  \*****************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"render\": () => (/* binding */ render)\n/* harmony export */ });\n/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vue */ \"./node_modules/vue/dist/vue.runtime.esm-bundler.js\");\n\r\n(0,vue__WEBPACK_IMPORTED_MODULE_0__.pushScopeId)(\"data-v-6c9aa768\");\r\nconst _hoisted_1 = { class: \"container\" };\r\nconst _hoisted_2 = { class: \"button-area\" };\r\nconst _hoisted_3 = /*#__PURE__*/ (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"canvas\", { id: \"god\" }, null, -1 /* HOISTED */);\r\nconst _hoisted_4 = { id: \"first\" };\r\nconst _hoisted_5 = {\r\n    key: 0,\r\n    class: \"three-loading\"\r\n};\r\n(0,vue__WEBPACK_IMPORTED_MODULE_0__.popScopeId)();\r\nfunction render(_ctx, _cache, $props, $setup, $data, $options) {\r\n    const _component_PoweroffOutlined = (0,vue__WEBPACK_IMPORTED_MODULE_0__.resolveComponent)(\"PoweroffOutlined\");\r\n    const _component_a_button = (0,vue__WEBPACK_IMPORTED_MODULE_0__.resolveComponent)(\"a-button\");\r\n    const _component_a_select_option = (0,vue__WEBPACK_IMPORTED_MODULE_0__.resolveComponent)(\"a-select-option\");\r\n    const _component_a_select = (0,vue__WEBPACK_IMPORTED_MODULE_0__.resolveComponent)(\"a-select\");\r\n    const _component_LoadingOutlined = (0,vue__WEBPACK_IMPORTED_MODULE_0__.resolveComponent)(\"LoadingOutlined\");\r\n    return ((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(\"div\", _hoisted_1, [\r\n        (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"div\", _hoisted_2, [\r\n            (0,vue__WEBPACK_IMPORTED_MODULE_0__.createVNode)(_component_a_button, {\r\n                type: \"primary\",\r\n                onClick: _ctx.quitShow\r\n            }, {\r\n                icon: (0,vue__WEBPACK_IMPORTED_MODULE_0__.withCtx)(() => [\r\n                    (0,vue__WEBPACK_IMPORTED_MODULE_0__.createVNode)(_component_PoweroffOutlined)\r\n                ]),\r\n                _: 1 /* STABLE */\r\n            }, 8 /* PROPS */, [\"onClick\"]),\r\n            (0,vue__WEBPACK_IMPORTED_MODULE_0__.createVNode)(_component_a_select, {\r\n                ref: \"select\",\r\n                value: _ctx.selectValue,\r\n                \"onUpdate:value\": _cache[0] || (_cache[0] = $event => (_ctx.selectValue = $event)),\r\n                style: { \"width\": \"120px\" },\r\n                onChange: _ctx.handleChange\r\n            }, {\r\n                default: (0,vue__WEBPACK_IMPORTED_MODULE_0__.withCtx)(() => [\r\n                    (0,vue__WEBPACK_IMPORTED_MODULE_0__.createVNode)(_component_a_select_option, { value: \"\" }, {\r\n                        default: (0,vue__WEBPACK_IMPORTED_MODULE_0__.withCtx)(() => [\r\n                            (0,vue__WEBPACK_IMPORTED_MODULE_0__.createTextVNode)((0,vue__WEBPACK_IMPORTED_MODULE_0__.toDisplayString)(_ctx.$t(\"other.firstView\")), 1 /* TEXT */)\r\n                        ]),\r\n                        _: 1 /* STABLE */\r\n                    }),\r\n                    ((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(true), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(vue__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, (0,vue__WEBPACK_IMPORTED_MODULE_0__.renderList)(_ctx.selectData, (item) => {\r\n                        return ((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createBlock)(_component_a_select_option, {\r\n                            key: item.value,\r\n                            value: item.value\r\n                        }, {\r\n                            default: (0,vue__WEBPACK_IMPORTED_MODULE_0__.withCtx)(() => [\r\n                                (0,vue__WEBPACK_IMPORTED_MODULE_0__.createTextVNode)((0,vue__WEBPACK_IMPORTED_MODULE_0__.toDisplayString)(item.label), 1 /* TEXT */)\r\n                            ]),\r\n                            _: 2 /* DYNAMIC */\r\n                        }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"value\"]));\r\n                    }), 128 /* KEYED_FRAGMENT */))\r\n                ]),\r\n                _: 1 /* STABLE */\r\n            }, 8 /* PROPS */, [\"value\", \"onChange\"]),\r\n            (0,vue__WEBPACK_IMPORTED_MODULE_0__.createCommentVNode)(\" <a-button\\r\\n                icon=\\\"eye-invisible\\\"\\r\\n                type=\\\"primary\\\"\\r\\n                @click=\\\"firstViewShow = true\\\"\\r\\n                v-if=\\\"!firstViewShow\\\"\\r\\n            ></a-button>\\r\\n            <a-button\\r\\n                icon=\\\"eye-invisible\\\"\\r\\n                type=\\\"primary\\\"\\r\\n                @click=\\\"firstViewShow = false\\\"\\r\\n                v-else\\r\\n            ></a-button> \")\r\n        ]),\r\n        _hoisted_3,\r\n        (0,vue__WEBPACK_IMPORTED_MODULE_0__.withDirectives)((0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"canvas\", _hoisted_4, null, 512 /* NEED_PATCH */), [\r\n            [vue__WEBPACK_IMPORTED_MODULE_0__.vShow, _ctx.firstViewShow]\r\n        ]),\r\n        (_ctx.loading)\r\n            ? ((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(\"div\", _hoisted_5, [\r\n                (0,vue__WEBPACK_IMPORTED_MODULE_0__.createVNode)(_component_LoadingOutlined),\r\n                (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"div\", null, (0,vue__WEBPACK_IMPORTED_MODULE_0__.toDisplayString)(_ctx.$t(\"alert.modelLoading\")), 1 /* TEXT */)\r\n            ]))\r\n            : (0,vue__WEBPACK_IMPORTED_MODULE_0__.createCommentVNode)(\"v-if\", true)\r\n    ]));\r\n}\r\n\n\n//# sourceURL=webpack://ofilm-web/./src/views/three/show.vue?./node_modules/ts-loader/index.js??clonedRuleSet-2.use!./node_modules/vue-loader/dist/templateLoader.js??ruleSet%5B1%5D.rules%5B2%5D!./node_modules/vue-loader/dist/index.js??ruleSet%5B1%5D.rules%5B6%5D.use%5B0%5D");

/***/ }),

/***/ "./src/hooks/three/index.ts":
/*!**********************************!*\
  !*** ./src/hooks/three/index.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ThreeReactive\": () => (/* binding */ ThreeReactive)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! three */ \"./node_modules/three/build/three.module.js\");\n/* harmony import */ var three_examples_jsm_loaders_GLTFLoader__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three/examples/jsm/loaders/GLTFLoader */ \"./node_modules/three/examples/jsm/loaders/GLTFLoader.js\");\n/* harmony import */ var three_examples_jsm_controls_OrbitControls__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! three/examples/jsm/controls/OrbitControls */ \"./node_modules/three/examples/jsm/controls/OrbitControls.js\");\n\r\n\r\n\r\nfunction resizeRendererToDisplaySize(renderer) {\r\n    const canvas = renderer.domElement;\r\n    const width = canvas.clientWidth;\r\n    const height = canvas.clientHeight;\r\n    const needResize = canvas.width !== width || canvas.height !== height;\r\n    if (needResize) {\r\n        renderer.setSize(width, height, false);\r\n    }\r\n    return needResize;\r\n}\r\nclass ThreeReactive {\r\n    scene = new three__WEBPACK_IMPORTED_MODULE_2__.Scene();\r\n    renderer;\r\n    camera;\r\n    clock = new three__WEBPACK_IMPORTED_MODULE_2__.Clock();\r\n    controls = null;\r\n    personSize = new three__WEBPACK_IMPORTED_MODULE_2__.Vector3();\r\n    personArr = [];\r\n    firstViewPerson = {};\r\n    constructor(canvas, width, height, control) {\r\n        this.renderer = new three__WEBPACK_IMPORTED_MODULE_2__.WebGL1Renderer({\r\n            canvas,\r\n            antialias: true\r\n        });\r\n        this.camera = new three__WEBPACK_IMPORTED_MODULE_2__.PerspectiveCamera(45, width / height, 0.1, 100);\r\n        if (control) {\r\n            this.controls = new three_examples_jsm_controls_OrbitControls__WEBPACK_IMPORTED_MODULE_1__.OrbitControls(this.camera, canvas);\r\n        }\r\n        this.addLight();\r\n    }\r\n    loadSceneModel(url, callback) {\r\n        const gltfLoader = new three_examples_jsm_loaders_GLTFLoader__WEBPACK_IMPORTED_MODULE_0__.GLTFLoader();\r\n        gltfLoader.load(url, (gltf) => {\r\n            const root = gltf.scene;\r\n            this.scene.add(root);\r\n            //转换为3d\r\n            const box = new three__WEBPACK_IMPORTED_MODULE_2__.Box3().setFromObject(root);\r\n            // 获取x,y,z   \r\n            const boxSize = box.getSize(new three__WEBPACK_IMPORTED_MODULE_2__.Vector3());\r\n            // length()获取其中的最大值\r\n            const boxSizeMax = boxSize.length();\r\n            const boxCenter = box.getCenter(new three__WEBPACK_IMPORTED_MODULE_2__.Vector3());\r\n            this.camera.position.set(0, 30, boxSizeMax / 2);\r\n            // 近端面\r\n            this.camera.near = boxSizeMax / 100;\r\n            // 远端面\r\n            this.camera.far = boxSizeMax * 100;\r\n            // 生效配置\r\n            this.camera.updateProjectionMatrix();\r\n            this.camera.lookAt(boxCenter.x, boxCenter.y, boxCenter.z);\r\n            if (this.controls != null) {\r\n                this.controls.maxDistance = boxSizeMax * 10;\r\n                this.controls.target.copy(boxCenter);\r\n                this.controls.update();\r\n            }\r\n            this.animate();\r\n            if (callback) {\r\n                callback(boxSize);\r\n            }\r\n        }, (err) => {\r\n            // alert(\"加载失败，请刷新页面重试!\");\r\n            console.log(err);\r\n        });\r\n    }\r\n    addLight() {\r\n        const color = 0xffffff;\r\n        const envLight = new three__WEBPACK_IMPORTED_MODULE_2__.AmbientLight(color);\r\n        const directLight = new three__WEBPACK_IMPORTED_MODULE_2__.DirectionalLight(color, 1);\r\n        directLight.position.set(5, 10, 2);\r\n        this.scene.add(envLight);\r\n        this.scene.add(directLight);\r\n        this.scene.add(directLight.target);\r\n    }\r\n    loadPerson(url, id, pos) {\r\n        const gltfLoader = new three_examples_jsm_loaders_GLTFLoader__WEBPACK_IMPORTED_MODULE_0__.GLTFLoader();\r\n        return new Promise((resolve, reject) => {\r\n            gltfLoader.load(url, (gltf) => {\r\n                //转换为3d\r\n                const box = new three__WEBPACK_IMPORTED_MODULE_2__.Box3().setFromObject(gltf.scene);\r\n                // 获取x,y,z   \r\n                this.personSize = box.getSize(new three__WEBPACK_IMPORTED_MODULE_2__.Vector3());\r\n                this.addPerson(gltf, id, pos);\r\n                resolve(\"success\");\r\n            });\r\n        });\r\n    }\r\n    addText(id, pos) {\r\n        //创建canvas对象用来绘制文字\r\n        let position = { x: pos.x, y: pos.y + this.personSize.y, z: pos.z };\r\n        let canvas = document.createElement('canvas');\r\n        let ctx = canvas.getContext('2d');\r\n        if (ctx != null) {\r\n            ctx.fillStyle = \"rgb(24,144,255)\";\r\n            ctx.font = \"bolder 200px Arial \";\r\n            ctx.fillText(id.toString(), 0, 155);\r\n            ctx.globalAlpha = 1;\r\n        }\r\n        // 将画布生成的图片作为贴图给精灵使用，并将精灵创建在设定好的位置\r\n        let texture = new three__WEBPACK_IMPORTED_MODULE_2__.Texture(canvas);\r\n        texture.needsUpdate = true;\r\n        //创建精灵，将该材质赋予给创建的精灵\r\n        let spriteMaterial = new three__WEBPACK_IMPORTED_MODULE_2__.PointsMaterial({\r\n            map: texture,\r\n            transparent: true,\r\n            opacity: 1,\r\n        });\r\n        //创建坐标点，并将材质给坐标\r\n        let geometry = new three__WEBPACK_IMPORTED_MODULE_2__.BufferGeometry();\r\n        let vertices = [0, 0, 0];\r\n        geometry.setAttribute('position', new three__WEBPACK_IMPORTED_MODULE_2__.Float32BufferAttribute(vertices, 3));\r\n        let sprite = new three__WEBPACK_IMPORTED_MODULE_2__.Points(geometry, spriteMaterial);\r\n        sprite.position.set(position.x, position.y, position.z);\r\n        return sprite;\r\n    }\r\n    addPerson(gltf, id, pos) {\r\n        const model = gltf.scene;\r\n        model.position.set(pos.x, pos.y, pos.z);\r\n        this.scene.add(model);\r\n        // 插入人员编号\r\n        const sprite = this.addText(id, pos);\r\n        this.scene.add(sprite);\r\n        // 人物动画\r\n        const animations = gltf.animations;\r\n        const mixer = new three__WEBPACK_IMPORTED_MODULE_2__.AnimationMixer(model);\r\n        const walkAction = mixer.clipAction(animations[3]);\r\n        walkAction.play();\r\n        this.personArr.push({\r\n            id,\r\n            model,\r\n            sprite,\r\n            mixer,\r\n            pos,\r\n            rotate: false,\r\n            target: [],\r\n            step: {}\r\n        });\r\n    }\r\n    move(people) {\r\n        const step = 0.01; // 每次移动0.01\r\n        if (people.target.length > 0) {\r\n            const target = people.target[0]; // 目标坐标\r\n            const cur = people.model.position; // 当前坐标\r\n            const forward = new three__WEBPACK_IMPORTED_MODULE_2__.Vector3(0, 0, -1); // 默认朝向向量\r\n            const distance = cur.distanceTo(target);\r\n            const angel = forward.angleTo(new three__WEBPACK_IMPORTED_MODULE_2__.Vector3(target.x - cur.x, target.y - cur.y, target.z - cur.z));\r\n            if (!people.rotate) {\r\n                const percent = distance / step;\r\n                people.step = {\r\n                    x: (target.x - cur.x) / percent,\r\n                    y: 0,\r\n                    z: (target.z - cur.z) / percent\r\n                };\r\n                if (target.x < cur.x) {\r\n                    people.model.rotation.y = angel;\r\n                }\r\n                else {\r\n                    people.model.rotation.y = -angel;\r\n                }\r\n                people.rotate = true;\r\n            }\r\n            people.model.position.x += people.step.x;\r\n            people.sprite.position.x += people.step.x;\r\n            people.model.position.z += people.step.z;\r\n            people.sprite.position.z += people.step.z;\r\n            if (distance < step * 2) {\r\n                people.target.splice(0, 1);\r\n                people.rotate = false;\r\n            }\r\n        }\r\n    }\r\n    animate() {\r\n        requestAnimationFrame(this.animate.bind(this));\r\n        if (resizeRendererToDisplaySize(this.renderer)) {\r\n            const canvas = this.renderer.domElement;\r\n            this.camera.aspect = canvas.clientWidth / canvas.clientHeight;\r\n            this.camera.updateProjectionMatrix();\r\n        }\r\n        // 人物模型移动\r\n        if (this.personArr.length > 0) {\r\n            const mixerUpdateDelta = this.clock.getDelta();\r\n            this.personArr.forEach(p => {\r\n                this.move(p);\r\n                p.mixer.update(mixerUpdateDelta);\r\n            });\r\n        }\r\n        // 第一人称\r\n        if (Object.keys(this.firstViewPerson).length > 0) {\r\n            this.firstViewAnimate();\r\n        }\r\n        this.renderer.render(this.scene, this.camera);\r\n    }\r\n    setFirstViewPerson(id) {\r\n        const cur = this.personArr.filter(item => item.id === id);\r\n        this.firstViewPerson = cur.length > 0 ? cur[0] : {};\r\n    }\r\n    firstViewAnimate() {\r\n        const pos = this.firstViewPerson.model.position;\r\n        this.camera.position.set(pos.x, pos.y + this.personSize.y, pos.z);\r\n        if (this.firstViewPerson.target.length > 0) {\r\n            const target = this.firstViewPerson.target[0];\r\n            this.camera.lookAt((target.x - pos.x) * 1000, (target.y - pos.y) * 1000, (target.z - pos.z) * 1000);\r\n        }\r\n    }\r\n    randomPos(size) {\r\n        return new three__WEBPACK_IMPORTED_MODULE_2__.Vector3(Math.floor(Math.random() * size.x - size.x / 2), 0, Math.floor(Math.random() * size.z - size.z / 2));\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack://ofilm-web/./src/hooks/three/index.ts?");

/***/ }),

/***/ "./src/views/three/show.vue":
/*!**********************************!*\
  !*** ./src/views/three/show.vue ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _show_vue_vue_type_template_id_6c9aa768_scoped_true__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./show.vue?vue&type=template&id=6c9aa768&scoped=true */ \"./src/views/three/show.vue?vue&type=template&id=6c9aa768&scoped=true\");\n/* harmony import */ var _show_vue_vue_type_script_lang_ts__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./show.vue?vue&type=script&lang=ts */ \"./src/views/three/show.vue?vue&type=script&lang=ts\");\n/* harmony import */ var _show_vue_vue_type_style_index_0_id_6c9aa768_lang_less_scoped_true__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./show.vue?vue&type=style&index=0&id=6c9aa768&lang=less&scoped=true */ \"./src/views/three/show.vue?vue&type=style&index=0&id=6c9aa768&lang=less&scoped=true\");\n\n\n\n\n;\n_show_vue_vue_type_script_lang_ts__WEBPACK_IMPORTED_MODULE_1__.default.render = _show_vue_vue_type_template_id_6c9aa768_scoped_true__WEBPACK_IMPORTED_MODULE_0__.render\n_show_vue_vue_type_script_lang_ts__WEBPACK_IMPORTED_MODULE_1__.default.__scopeId = \"data-v-6c9aa768\"\n/* hot reload */\nif (false) {}\n\n_show_vue_vue_type_script_lang_ts__WEBPACK_IMPORTED_MODULE_1__.default.__file = \"src/views/three/show.vue\"\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_show_vue_vue_type_script_lang_ts__WEBPACK_IMPORTED_MODULE_1__.default);\n\n//# sourceURL=webpack://ofilm-web/./src/views/three/show.vue?");

/***/ }),

/***/ "./src/views/three/show.vue?vue&type=style&index=0&id=6c9aa768&lang=less&scoped=true":
/*!*******************************************************************************************!*\
  !*** ./src/views/three/show.vue?vue&type=style&index=0&id=6c9aa768&lang=less&scoped=true ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_style_loader_dist_cjs_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_dist_stylePostLoader_js_node_modules_less_loader_dist_cjs_js_clonedRuleSet_1_use_2_node_modules_vue_loader_dist_index_js_ruleSet_1_rules_6_use_0_show_vue_vue_type_style_index_0_id_6c9aa768_lang_less_scoped_true__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../node_modules/style-loader/dist/cjs.js!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/dist/stylePostLoader.js!../../../node_modules/less-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../../node_modules/vue-loader/dist/index.js??ruleSet[1].rules[6].use[0]!./show.vue?vue&type=style&index=0&id=6c9aa768&lang=less&scoped=true */ \"./node_modules/style-loader/dist/cjs.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/dist/stylePostLoader.js!./node_modules/less-loader/dist/cjs.js??clonedRuleSet-1.use[2]!./node_modules/vue-loader/dist/index.js??ruleSet[1].rules[6].use[0]!./src/views/three/show.vue?vue&type=style&index=0&id=6c9aa768&lang=less&scoped=true\");\n\n\n//# sourceURL=webpack://ofilm-web/./src/views/three/show.vue?");

/***/ }),

/***/ "./src/views/three/show.vue?vue&type=script&lang=ts":
/*!**********************************************************!*\
  !*** ./src/views/three/show.vue?vue&type=script&lang=ts ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* reexport safe */ _node_modules_ts_loader_index_js_clonedRuleSet_2_use_node_modules_vue_loader_dist_index_js_ruleSet_1_rules_6_use_0_show_vue_vue_type_script_lang_ts__WEBPACK_IMPORTED_MODULE_0__.default)\n/* harmony export */ });\n/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_2_use_node_modules_vue_loader_dist_index_js_ruleSet_1_rules_6_use_0_show_vue_vue_type_script_lang_ts__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../node_modules/ts-loader/index.js??clonedRuleSet-2.use!../../../node_modules/vue-loader/dist/index.js??ruleSet[1].rules[6].use[0]!./show.vue?vue&type=script&lang=ts */ \"./node_modules/ts-loader/index.js??clonedRuleSet-2.use!./node_modules/vue-loader/dist/index.js??ruleSet[1].rules[6].use[0]!./src/views/three/show.vue?vue&type=script&lang=ts\");\n \n\n//# sourceURL=webpack://ofilm-web/./src/views/three/show.vue?");

/***/ }),

/***/ "./src/views/three/show.vue?vue&type=template&id=6c9aa768&scoped=true":
/*!****************************************************************************!*\
  !*** ./src/views/three/show.vue?vue&type=template&id=6c9aa768&scoped=true ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"render\": () => (/* reexport safe */ _node_modules_ts_loader_index_js_clonedRuleSet_2_use_node_modules_vue_loader_dist_templateLoader_js_ruleSet_1_rules_2_node_modules_vue_loader_dist_index_js_ruleSet_1_rules_6_use_0_show_vue_vue_type_template_id_6c9aa768_scoped_true__WEBPACK_IMPORTED_MODULE_0__.render)\n/* harmony export */ });\n/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_2_use_node_modules_vue_loader_dist_templateLoader_js_ruleSet_1_rules_2_node_modules_vue_loader_dist_index_js_ruleSet_1_rules_6_use_0_show_vue_vue_type_template_id_6c9aa768_scoped_true__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../node_modules/ts-loader/index.js??clonedRuleSet-2.use!../../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../../../node_modules/vue-loader/dist/index.js??ruleSet[1].rules[6].use[0]!./show.vue?vue&type=template&id=6c9aa768&scoped=true */ \"./node_modules/ts-loader/index.js??clonedRuleSet-2.use!./node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!./node_modules/vue-loader/dist/index.js??ruleSet[1].rules[6].use[0]!./src/views/three/show.vue?vue&type=template&id=6c9aa768&scoped=true\");\n\n\n//# sourceURL=webpack://ofilm-web/./src/views/three/show.vue?");

/***/ })

}]);