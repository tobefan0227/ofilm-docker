"use strict";
/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkofilm_web"] = self["webpackChunkofilm_web"] || []).push([["src_views_position_trail_vue"],{

/***/ "./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/dist/stylePostLoader.js!./node_modules/less-loader/dist/cjs.js??clonedRuleSet-1.use[2]!./node_modules/vue-loader/dist/index.js??ruleSet[1].rules[6].use[0]!./src/views/position/trail.vue?vue&type=style&index=0&id=340c523a&scoped=true&lang=less":
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/dist/stylePostLoader.js!./node_modules/less-loader/dist/cjs.js??clonedRuleSet-1.use[2]!./node_modules/vue-loader/dist/index.js??ruleSet[1].rules[6].use[0]!./src/views/position/trail.vue?vue&type=style&index=0&id=340c523a&scoped=true&lang=less ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../node_modules/css-loader/dist/runtime/api.js */ \"./node_modules/css-loader/dist/runtime/api.js\");\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);\n// Imports\n\nvar ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()(function(i){return i[1]});\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".btn-area[data-v-340c523a] {\\n  text-align: left;\\n  margin-bottom: 20px;\\n}\\n.btn-area button[data-v-340c523a] {\\n  margin-right: 10px;\\n}\\n.svg-wrapper[data-v-340c523a] {\\n  height: 500px;\\n  background-color: rgba(0, 0, 0, 0.8);\\n  position: relative;\\n}\\n.svg-wrapper .message-area[data-v-340c523a] {\\n  min-width: 200px;\\n  background-color: rgba(14, 57, 123, 0.7);\\n  width: 200px;\\n  padding: 20px;\\n  position: absolute;\\n  z-index: 99;\\n  box-shadow: 2px 2px 6px #4cf0f5;\\n  left: 10px;\\n  top: 50%;\\n  transform: translateY(-50%);\\n  display: flex;\\n  color: #4cf0f5;\\n}\\n.svg-wrapper .message-area #info_left img[data-v-340c523a] {\\n  width: 50px;\\n  height: auto;\\n}\\n.svg-wrapper .message-area #info_right[data-v-340c523a] {\\n  display: flex;\\n  flex-direction: column;\\n  flex-grow: 1;\\n  margin-left: 10px;\\n  font-size: 13px;\\n  font-weight: bold;\\n  white-space: nowrap;\\n}\\n.svg-wrapper .message-area .close[data-v-340c523a] {\\n  font-size: 12px;\\n  position: absolute;\\n  top: 5px;\\n  right: 10px;\\n  color: #4cf0f5;\\n  cursor: pointer;\\n}\\n\", \"\"]);\n// Exports\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);\n\n\n//# sourceURL=webpack://ofilm-web/./src/views/position/trail.vue?./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/dist/stylePostLoader.js!./node_modules/less-loader/dist/cjs.js??clonedRuleSet-1.use%5B2%5D!./node_modules/vue-loader/dist/index.js??ruleSet%5B1%5D.rules%5B6%5D.use%5B0%5D");

/***/ }),

/***/ "./node_modules/style-loader/dist/cjs.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/dist/stylePostLoader.js!./node_modules/less-loader/dist/cjs.js??clonedRuleSet-1.use[2]!./node_modules/vue-loader/dist/index.js??ruleSet[1].rules[6].use[0]!./src/views/position/trail.vue?vue&type=style&index=0&id=340c523a&scoped=true&lang=less":
/*!******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/style-loader/dist/cjs.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/dist/stylePostLoader.js!./node_modules/less-loader/dist/cjs.js??clonedRuleSet-1.use[2]!./node_modules/vue-loader/dist/index.js??ruleSet[1].rules[6].use[0]!./src/views/position/trail.vue?vue&type=style&index=0&id=340c523a&scoped=true&lang=less ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ \"./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !../../../node_modules/style-loader/dist/runtime/styleDomAPI.js */ \"./node_modules/style-loader/dist/runtime/styleDomAPI.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../node_modules/style-loader/dist/runtime/insertBySelector.js */ \"./node_modules/style-loader/dist/runtime/insertBySelector.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js */ \"./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! !../../../node_modules/style-loader/dist/runtime/insertStyleElement.js */ \"./node_modules/style-loader/dist/runtime/insertStyleElement.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! !../../../node_modules/style-loader/dist/runtime/styleTagTransform.js */ \"./node_modules/style-loader/dist/runtime/styleTagTransform.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_dist_stylePostLoader_js_node_modules_less_loader_dist_cjs_js_clonedRuleSet_1_use_2_node_modules_vue_loader_dist_index_js_ruleSet_1_rules_6_use_0_trail_vue_vue_type_style_index_0_id_340c523a_scoped_true_lang_less__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! !!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/dist/stylePostLoader.js!../../../node_modules/less-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../../node_modules/vue-loader/dist/index.js??ruleSet[1].rules[6].use[0]!./trail.vue?vue&type=style&index=0&id=340c523a&scoped=true&lang=less */ \"./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/dist/stylePostLoader.js!./node_modules/less-loader/dist/cjs.js??clonedRuleSet-1.use[2]!./node_modules/vue-loader/dist/index.js??ruleSet[1].rules[6].use[0]!./src/views/position/trail.vue?vue&type=style&index=0&id=340c523a&scoped=true&lang=less\");\n\n      \n      \n      \n      \n      \n      \n      \n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());\noptions.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());\n\n      options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, \"head\");\n    \noptions.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());\noptions.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());\n\nvar update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_dist_stylePostLoader_js_node_modules_less_loader_dist_cjs_js_clonedRuleSet_1_use_2_node_modules_vue_loader_dist_index_js_ruleSet_1_rules_6_use_0_trail_vue_vue_type_style_index_0_id_340c523a_scoped_true_lang_less__WEBPACK_IMPORTED_MODULE_6__.default, options);\n\n\n\n\n       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_dist_stylePostLoader_js_node_modules_less_loader_dist_cjs_js_clonedRuleSet_1_use_2_node_modules_vue_loader_dist_index_js_ruleSet_1_rules_6_use_0_trail_vue_vue_type_style_index_0_id_340c523a_scoped_true_lang_less__WEBPACK_IMPORTED_MODULE_6__.default && _node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_dist_stylePostLoader_js_node_modules_less_loader_dist_cjs_js_clonedRuleSet_1_use_2_node_modules_vue_loader_dist_index_js_ruleSet_1_rules_6_use_0_trail_vue_vue_type_style_index_0_id_340c523a_scoped_true_lang_less__WEBPACK_IMPORTED_MODULE_6__.default.locals ? _node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_dist_stylePostLoader_js_node_modules_less_loader_dist_cjs_js_clonedRuleSet_1_use_2_node_modules_vue_loader_dist_index_js_ruleSet_1_rules_6_use_0_trail_vue_vue_type_style_index_0_id_340c523a_scoped_true_lang_less__WEBPACK_IMPORTED_MODULE_6__.default.locals : undefined);\n\n\n//# sourceURL=webpack://ofilm-web/./src/views/position/trail.vue?./node_modules/style-loader/dist/cjs.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/dist/stylePostLoader.js!./node_modules/less-loader/dist/cjs.js??clonedRuleSet-1.use%5B2%5D!./node_modules/vue-loader/dist/index.js??ruleSet%5B1%5D.rules%5B6%5D.use%5B0%5D");

/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-2.use!./node_modules/vue-loader/dist/index.js??ruleSet[1].rules[6].use[0]!./src/views/position/trail.vue?vue&type=script&lang=ts":
/*!*****************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-2.use!./node_modules/vue-loader/dist/index.js??ruleSet[1].rules[6].use[0]!./src/views/position/trail.vue?vue&type=script&lang=ts ***!
  \*****************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vue */ \"./node_modules/vue/dist/vue.runtime.esm-bundler.js\");\n/* harmony import */ var _hooks_socket__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../hooks/socket */ \"./src/hooks/socket.ts\");\n/* harmony import */ var _api_api__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/api/api */ \"./src/api/api.ts\");\n/* harmony import */ var _components_selectDialog_index_vue__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../components/selectDialog/index.vue */ \"./src/components/selectDialog/index.vue\");\n/* harmony import */ var _utils_svgMap__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils/svgMap */ \"./src/utils/svgMap.ts\");\n/* harmony import */ var _hooks_fence_draw__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../hooks/fence/draw */ \"./src/hooks/fence/draw.ts\");\n/* harmony import */ var _config_common__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/config/common */ \"./src/config/common.ts\");\n/* harmony import */ var vue_i18n__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! vue-i18n */ \"./node_modules/vue-i18n/dist/vue-i18n.esm-bundler.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,vue__WEBPACK_IMPORTED_MODULE_0__.defineComponent)({\r\n    components: {\r\n        SelectDialog: _components_selectDialog_index_vue__WEBPACK_IMPORTED_MODULE_3__.default,\r\n    },\r\n    setup() {\r\n        const { t } = (0,vue_i18n__WEBPACK_IMPORTED_MODULE_7__.useI18n)();\r\n        const dialogVisible = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(false);\r\n        let svgWrapper = null;\r\n        let leftInfo = null;\r\n        let rightInfo = null;\r\n        let svgEle = null;\r\n        let tagList = {};\r\n        const stationShow = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(true);\r\n        const infoShow = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(false);\r\n        const socketMessage = (res) => {\r\n            const data = JSON.parse(res.data);\r\n            renderTag(data.tag_id, data.x, data.y);\r\n        };\r\n        const socketArgus = {\r\n            onMessage: socketMessage,\r\n        };\r\n        const { openSocket, closeSocket } = (0,_hooks_socket__WEBPACK_IMPORTED_MODULE_1__.default)(socketArgus);\r\n        const selectComplete = (res) => {\r\n            if (res.length > 0) {\r\n                renderSvg(res[0].id);\r\n            }\r\n            localStorage.setItem(\"lastChoiceforMap\", res[0].id);\r\n        };\r\n        const renderTag = async (no, x, y) => {\r\n            const res = await (0,_api_api__WEBPACK_IMPORTED_MODULE_2__.tagGet)({ no });\r\n            const data = res.data;\r\n            if (tagList[\"tag\" + no]) {\r\n                svgEle.moveTag(no, x, y);\r\n            }\r\n            else {\r\n                let temp = {\r\n                    tagNo: data.t.no,\r\n                    tagName: data.t.name,\r\n                };\r\n                if (data.s) {\r\n                    tagList[\"tag\" + no] = Object.assign(temp, {\r\n                        staffNo: data.s.no,\r\n                        staffName: data.s.name,\r\n                        staffPhone: data.s.phone,\r\n                        picture: data.s.picture,\r\n                        level: data.d.level,\r\n                        dutyName: data.d.name,\r\n                    });\r\n                }\r\n                else if (data.a) {\r\n                    tagList[\"tag\" + no] = Object.assign(temp, {\r\n                        assetNo: data.a.no,\r\n                        assetName: data.a.name,\r\n                        assetModel: data.a.model,\r\n                        assetLevel: data.a.level,\r\n                        personNo: data.a.personNo,\r\n                        personName: data.a.personName,\r\n                    });\r\n                }\r\n                svgEle.insertTag({\r\n                    no: data.t.no,\r\n                    name: data.t.name,\r\n                    x,\r\n                    y,\r\n                    level: !!data.d ? data.d.level : 0,\r\n                }, (e) => {\r\n                    showMessage(e, \"tag\");\r\n                });\r\n            }\r\n        };\r\n        const showMessage = (item, type) => {\r\n            leftInfo.innerHTML = \"\";\r\n            rightInfo.innerHTML = \"\";\r\n            if (type === \"tag\") {\r\n                const tag = tagList[\"tag\" + item.no];\r\n                let html = `\r\n                    <div>${t(\"columns.tagName\")}： ${tag.tagName}</div>\r\n                `;\r\n                if (tag.staffNo) {\r\n                    leftInfo.innerHTML = `<img width=\"50\" src=\"${_config_common__WEBPACK_IMPORTED_MODULE_6__.img_base_url + tag.picture}\">`;\r\n                    html += `\r\n                    <div>${t(\"columns.personNo\")}： ${tag.staffNo}</div>\r\n                    <div>${t(\"columns.personName\")}： ${tag.staffName}</div>\r\n                    <div>${t(\"columns.phone\")}： ${tag.staffPhone}</div>\r\n                    <div>${t(\"columns.duty\")}： ${tag.dutyName}</div>`;\r\n                }\r\n                if (tag.assetNo) {\r\n                    html += `\r\n                    <div>${t(\"columns.assetNo\")}： ${tag.assetNo}</div>\r\n                    <div>${t(\"columns.assetName\")}： ${tag.assetName}</div>\r\n                    <div>${t(\"columns.assetLevel\")}： ${tag.assetLevel}</div>\r\n                    <div>${t(\"columns.assetManager\")}： ${tag.personName}</div>\r\n                    <div>${t(\"columns.personNo\")}： ${tag.personNo}</div>`;\r\n                }\r\n                rightInfo.innerHTML = html;\r\n            }\r\n            if (type === \"station\") {\r\n                const html = `\r\n                    <div>${t(\"columns.name\")}： ${item.name}</div>\r\n                    <div>${t(\"columns.assetModel\")}： ${item.mode}</div>\r\n                    <div>${t(\"columns.port\")}： ${item.port}</div>\r\n                    <div>${t(\"columns.version\")}： t ${item.version}</div>\r\n                    <div>${t(\"columns.ip\")}： ${item.ip}</div>\r\n                    <div>x： ${item.x}</div>\r\n                    <div>y： ${item.y}</div>\r\n                    <div>z： ${item.z}</div>`;\r\n                rightInfo.innerHTML = html;\r\n            }\r\n            infoShow.value = true;\r\n        };\r\n        const getStationBySiteNo = async (siteNo) => {\r\n            const res = await (0,_api_api__WEBPACK_IMPORTED_MODULE_2__.mapStation)({\r\n                siteCode: siteNo,\r\n            });\r\n            const stationList = res.data;\r\n            stationList.forEach((item) => {\r\n                svgEle.insertStation(item, (e) => {\r\n                    showMessage(e, \"station\");\r\n                });\r\n            });\r\n        };\r\n        const renderSvg = (id) => {\r\n            const a = document.querySelector(\".out-svg\");\r\n            const b = document.querySelector(\".draw-svg\");\r\n            if (a != null) {\r\n                a.remove();\r\n            }\r\n            if (b != null) {\r\n                b.remove();\r\n            }\r\n            (0,_api_api__WEBPACK_IMPORTED_MODULE_2__.mapGet)({\r\n                id,\r\n            }).then(async (res) => {\r\n                svgEle = new _utils_svgMap__WEBPACK_IMPORTED_MODULE_4__.MapSvgRender(svgWrapper);\r\n                // 插入地图\r\n                await svgEle.insertMap({\r\n                    url: res.data.m.mapUrl,\r\n                    width: res.data.m.width,\r\n                    height: res.data.m.height,\r\n                });\r\n                const draw = new _hooks_fence_draw__WEBPACK_IMPORTED_MODULE_5__.DrawFence(\".svg-wrapper\", () => { }, () => { });\r\n                // 获取基站\r\n                getStationBySiteNo(res.data.m.siteCode);\r\n                // 插入电子围栏\r\n                res.data.f.forEach((item) => {\r\n                    draw.insertFence(svgEle.g, {\r\n                        type: item.fenceType,\r\n                        points: draw.convertPointsToShow(JSON.parse(item.fenceData), svgWrapper.offsetWidth),\r\n                        id: item.fenceId,\r\n                    });\r\n                    draw.setFenceLevel(svgEle.g, item.fenceId, item.fenceLevel);\r\n                });\r\n            });\r\n        };\r\n        const selectMap = () => {\r\n            dialogVisible.value = true;\r\n        };\r\n        const toFullScreen = () => {\r\n            svgEle.toFullScreen();\r\n        };\r\n        const hideStation = () => {\r\n            if (svgEle != null) {\r\n                svgEle.hideStations();\r\n                stationShow.value = false;\r\n            }\r\n        };\r\n        const showStation = () => {\r\n            if (svgEle != null) {\r\n                svgEle.stationShow();\r\n                stationShow.value = true;\r\n            }\r\n        };\r\n        (0,vue__WEBPACK_IMPORTED_MODULE_0__.onMounted)(async () => {\r\n            svgWrapper = document.querySelector(\".svg-wrapper\");\r\n            leftInfo = document.querySelector(\"#info_left\");\r\n            rightInfo = document.querySelector(\"#info_right\");\r\n            if (localStorage.getItem(\"lastChoiceforMap\")) {\r\n                renderSvg(localStorage.getItem(\"lastChoiceforMap\"));\r\n            }\r\n            openSocket();\r\n        });\r\n        return {\r\n            stationShow,\r\n            dialogVisible,\r\n            selectComplete,\r\n            selectMap,\r\n            toFullScreen,\r\n            hideStation,\r\n            showStation,\r\n            infoShow,\r\n        };\r\n    },\r\n}));\r\n\n\n//# sourceURL=webpack://ofilm-web/./src/views/position/trail.vue?./node_modules/ts-loader/index.js??clonedRuleSet-2.use!./node_modules/vue-loader/dist/index.js??ruleSet%5B1%5D.rules%5B6%5D.use%5B0%5D");

/***/ }),

/***/ "./node_modules/ts-loader/index.js??clonedRuleSet-2.use!./node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!./node_modules/vue-loader/dist/index.js??ruleSet[1].rules[6].use[0]!./src/views/position/trail.vue?vue&type=template&id=340c523a&scoped=true":
/*!*********************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/ts-loader/index.js??clonedRuleSet-2.use!./node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!./node_modules/vue-loader/dist/index.js??ruleSet[1].rules[6].use[0]!./src/views/position/trail.vue?vue&type=template&id=340c523a&scoped=true ***!
  \*********************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"render\": () => (/* binding */ render)\n/* harmony export */ });\n/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vue */ \"./node_modules/vue/dist/vue.runtime.esm-bundler.js\");\n\r\n(0,vue__WEBPACK_IMPORTED_MODULE_0__.pushScopeId)(\"data-v-340c523a\");\r\nconst _hoisted_1 = { class: \"btn-area\" };\r\nconst _hoisted_2 = { class: \"svg-wrapper\" };\r\nconst _hoisted_3 = { class: \"message-area\" };\r\nconst _hoisted_4 = /*#__PURE__*/ (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"div\", { id: \"info_left\" }, null, -1 /* HOISTED */);\r\nconst _hoisted_5 = /*#__PURE__*/ (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"div\", { id: \"info_right\" }, null, -1 /* HOISTED */);\r\n(0,vue__WEBPACK_IMPORTED_MODULE_0__.popScopeId)();\r\nfunction render(_ctx, _cache, $props, $setup, $data, $options) {\r\n    const _component_PictureOutlined = (0,vue__WEBPACK_IMPORTED_MODULE_0__.resolveComponent)(\"PictureOutlined\");\r\n    const _component_a_button = (0,vue__WEBPACK_IMPORTED_MODULE_0__.resolveComponent)(\"a-button\");\r\n    const _component_FullscreenOutlined = (0,vue__WEBPACK_IMPORTED_MODULE_0__.resolveComponent)(\"FullscreenOutlined\");\r\n    const _component_EyeInvisibleOutlined = (0,vue__WEBPACK_IMPORTED_MODULE_0__.resolveComponent)(\"EyeInvisibleOutlined\");\r\n    const _component_EyeOutlined = (0,vue__WEBPACK_IMPORTED_MODULE_0__.resolveComponent)(\"EyeOutlined\");\r\n    const _component_CloseOutlined = (0,vue__WEBPACK_IMPORTED_MODULE_0__.resolveComponent)(\"CloseOutlined\");\r\n    const _component_select_dialog = (0,vue__WEBPACK_IMPORTED_MODULE_0__.resolveComponent)(\"select-dialog\");\r\n    return ((0,vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(), (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(vue__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, [\r\n        (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"div\", _hoisted_1, [\r\n            (0,vue__WEBPACK_IMPORTED_MODULE_0__.createVNode)(_component_a_button, {\r\n                type: \"primary\",\r\n                onClick: _ctx.selectMap\r\n            }, {\r\n                icon: (0,vue__WEBPACK_IMPORTED_MODULE_0__.withCtx)(() => [\r\n                    (0,vue__WEBPACK_IMPORTED_MODULE_0__.createVNode)(_component_PictureOutlined)\r\n                ]),\r\n                default: (0,vue__WEBPACK_IMPORTED_MODULE_0__.withCtx)(() => [\r\n                    (0,vue__WEBPACK_IMPORTED_MODULE_0__.createTextVNode)((0,vue__WEBPACK_IMPORTED_MODULE_0__.toDisplayString)(_ctx.$t(\"button.selectMap\")) + \" \", 1 /* TEXT */)\r\n                ]),\r\n                _: 1 /* STABLE */\r\n            }, 8 /* PROPS */, [\"onClick\"]),\r\n            (0,vue__WEBPACK_IMPORTED_MODULE_0__.createVNode)(_component_a_button, { onClick: _ctx.toFullScreen }, {\r\n                icon: (0,vue__WEBPACK_IMPORTED_MODULE_0__.withCtx)(() => [\r\n                    (0,vue__WEBPACK_IMPORTED_MODULE_0__.createVNode)(_component_FullscreenOutlined)\r\n                ]),\r\n                default: (0,vue__WEBPACK_IMPORTED_MODULE_0__.withCtx)(() => [\r\n                    (0,vue__WEBPACK_IMPORTED_MODULE_0__.createTextVNode)((0,vue__WEBPACK_IMPORTED_MODULE_0__.toDisplayString)(_ctx.$t(\"button.fullScreen\")) + \" \", 1 /* TEXT */)\r\n                ]),\r\n                _: 1 /* STABLE */\r\n            }, 8 /* PROPS */, [\"onClick\"]),\r\n            (0,vue__WEBPACK_IMPORTED_MODULE_0__.withDirectives)((0,vue__WEBPACK_IMPORTED_MODULE_0__.createVNode)(_component_a_button, {\r\n                type: \"danger\",\r\n                onClick: _ctx.hideStation\r\n            }, {\r\n                icon: (0,vue__WEBPACK_IMPORTED_MODULE_0__.withCtx)(() => [\r\n                    (0,vue__WEBPACK_IMPORTED_MODULE_0__.createVNode)(_component_EyeInvisibleOutlined)\r\n                ]),\r\n                default: (0,vue__WEBPACK_IMPORTED_MODULE_0__.withCtx)(() => [\r\n                    (0,vue__WEBPACK_IMPORTED_MODULE_0__.createTextVNode)(\" \" + (0,vue__WEBPACK_IMPORTED_MODULE_0__.toDisplayString)(_ctx.$t(\"button.hideStation\")), 1 /* TEXT */)\r\n                ]),\r\n                _: 1 /* STABLE */\r\n            }, 8 /* PROPS */, [\"onClick\"]), [\r\n                [vue__WEBPACK_IMPORTED_MODULE_0__.vShow, _ctx.stationShow]\r\n            ]),\r\n            (0,vue__WEBPACK_IMPORTED_MODULE_0__.withDirectives)((0,vue__WEBPACK_IMPORTED_MODULE_0__.createVNode)(_component_a_button, {\r\n                type: \"primary\",\r\n                onClick: _ctx.showStation\r\n            }, {\r\n                icon: (0,vue__WEBPACK_IMPORTED_MODULE_0__.withCtx)(() => [\r\n                    (0,vue__WEBPACK_IMPORTED_MODULE_0__.createVNode)(_component_EyeOutlined)\r\n                ]),\r\n                default: (0,vue__WEBPACK_IMPORTED_MODULE_0__.withCtx)(() => [\r\n                    (0,vue__WEBPACK_IMPORTED_MODULE_0__.createTextVNode)(\" \" + (0,vue__WEBPACK_IMPORTED_MODULE_0__.toDisplayString)(_ctx.$t(\"button.showStation\")), 1 /* TEXT */)\r\n                ]),\r\n                _: 1 /* STABLE */\r\n            }, 8 /* PROPS */, [\"onClick\"]), [\r\n                [vue__WEBPACK_IMPORTED_MODULE_0__.vShow, !_ctx.stationShow]\r\n            ])\r\n        ]),\r\n        (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"div\", _hoisted_2, [\r\n            (0,vue__WEBPACK_IMPORTED_MODULE_0__.withDirectives)((0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"div\", _hoisted_3, [\r\n                _hoisted_4,\r\n                _hoisted_5,\r\n                (0,vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)(\"div\", {\r\n                    class: \"close\",\r\n                    onClick: _cache[0] || (_cache[0] = $event => (_ctx.infoShow = false))\r\n                }, [\r\n                    (0,vue__WEBPACK_IMPORTED_MODULE_0__.createVNode)(_component_CloseOutlined)\r\n                ])\r\n            ], 512 /* NEED_PATCH */), [\r\n                [vue__WEBPACK_IMPORTED_MODULE_0__.vShow, _ctx.infoShow]\r\n            ])\r\n        ]),\r\n        (0,vue__WEBPACK_IMPORTED_MODULE_0__.createVNode)(_component_select_dialog, {\r\n            visible: _ctx.dialogVisible,\r\n            \"onUpdate:visible\": _cache[1] || (_cache[1] = $event => (_ctx.dialogVisible = $event)),\r\n            selection: \"radio\",\r\n            type: \"map\",\r\n            onComplete: _ctx.selectComplete\r\n        }, null, 8 /* PROPS */, [\"visible\", \"onComplete\"])\r\n    ], 64 /* STABLE_FRAGMENT */));\r\n}\r\n\n\n//# sourceURL=webpack://ofilm-web/./src/views/position/trail.vue?./node_modules/ts-loader/index.js??clonedRuleSet-2.use!./node_modules/vue-loader/dist/templateLoader.js??ruleSet%5B1%5D.rules%5B2%5D!./node_modules/vue-loader/dist/index.js??ruleSet%5B1%5D.rules%5B6%5D.use%5B0%5D");

/***/ }),

/***/ "./src/hooks/socket.ts":
/*!*****************************!*\
  !*** ./src/hooks/socket.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _config_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config/common */ \"./src/config/common.ts\");\n/* harmony import */ var vuex__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! vuex */ \"./node_modules/vuex/dist/vuex.esm-bundler.js\");\n\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((argus) => {\r\n    let socket = null;\r\n    const store = (0,vuex__WEBPACK_IMPORTED_MODULE_1__.useStore)();\r\n    const onOpen = () => {\r\n        console.log(\"socket连接成功\" + new Date().getTime());\r\n    };\r\n    const onMessage = (res) => {\r\n        console.log(res);\r\n    };\r\n    const onClose = () => {\r\n        socket = null;\r\n        console.log(\"socket连接关闭\" + new Date().getTime());\r\n    };\r\n    const onError = () => {\r\n        socket = null;\r\n        console.log(\"socket连接错误\");\r\n    };\r\n    const openSocket = () => {\r\n        const base_url = _config_common__WEBPACK_IMPORTED_MODULE_0__.request_url.includes(\"http\") ? _config_common__WEBPACK_IMPORTED_MODULE_0__.request_url : location.protocol + location.host + \"/lop/\";\r\n        const userid = store.state.user.userInfo.id;\r\n        let socketUrl = base_url + \"socket/\" + userid;\r\n        socketUrl = socketUrl.replace(\"https\", \"ws\").replace(\"http\", \"ws\");\r\n        const s = new WebSocket(socketUrl);\r\n        socket = s;\r\n        s.onopen = argus.onOpen ? argus.onOpen : onOpen;\r\n        s.onmessage = argus.onMessage ? argus.onMessage : onMessage;\r\n        s.onclose = argus.onClose ? argus.onClose : onClose;\r\n        s.onerror = argus.onError ? argus.onError : onError;\r\n    };\r\n    const closeSocket = () => {\r\n        if (socket != null) {\r\n            socket.close();\r\n            socket = null;\r\n        }\r\n    };\r\n    return {\r\n        openSocket,\r\n        closeSocket\r\n    };\r\n});\r\n\n\n//# sourceURL=webpack://ofilm-web/./src/hooks/socket.ts?");

/***/ }),

/***/ "./src/views/position/trail.vue":
/*!**************************************!*\
  !*** ./src/views/position/trail.vue ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _trail_vue_vue_type_template_id_340c523a_scoped_true__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./trail.vue?vue&type=template&id=340c523a&scoped=true */ \"./src/views/position/trail.vue?vue&type=template&id=340c523a&scoped=true\");\n/* harmony import */ var _trail_vue_vue_type_script_lang_ts__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./trail.vue?vue&type=script&lang=ts */ \"./src/views/position/trail.vue?vue&type=script&lang=ts\");\n/* harmony import */ var _trail_vue_vue_type_style_index_0_id_340c523a_scoped_true_lang_less__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./trail.vue?vue&type=style&index=0&id=340c523a&scoped=true&lang=less */ \"./src/views/position/trail.vue?vue&type=style&index=0&id=340c523a&scoped=true&lang=less\");\n\n\n\n\n;\n_trail_vue_vue_type_script_lang_ts__WEBPACK_IMPORTED_MODULE_1__.default.render = _trail_vue_vue_type_template_id_340c523a_scoped_true__WEBPACK_IMPORTED_MODULE_0__.render\n_trail_vue_vue_type_script_lang_ts__WEBPACK_IMPORTED_MODULE_1__.default.__scopeId = \"data-v-340c523a\"\n/* hot reload */\nif (false) {}\n\n_trail_vue_vue_type_script_lang_ts__WEBPACK_IMPORTED_MODULE_1__.default.__file = \"src/views/position/trail.vue\"\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_trail_vue_vue_type_script_lang_ts__WEBPACK_IMPORTED_MODULE_1__.default);\n\n//# sourceURL=webpack://ofilm-web/./src/views/position/trail.vue?");

/***/ }),

/***/ "./src/views/position/trail.vue?vue&type=style&index=0&id=340c523a&scoped=true&lang=less":
/*!***********************************************************************************************!*\
  !*** ./src/views/position/trail.vue?vue&type=style&index=0&id=340c523a&scoped=true&lang=less ***!
  \***********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_style_loader_dist_cjs_js_node_modules_css_loader_dist_cjs_js_node_modules_vue_loader_dist_stylePostLoader_js_node_modules_less_loader_dist_cjs_js_clonedRuleSet_1_use_2_node_modules_vue_loader_dist_index_js_ruleSet_1_rules_6_use_0_trail_vue_vue_type_style_index_0_id_340c523a_scoped_true_lang_less__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../node_modules/style-loader/dist/cjs.js!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/dist/stylePostLoader.js!../../../node_modules/less-loader/dist/cjs.js??clonedRuleSet-1.use[2]!../../../node_modules/vue-loader/dist/index.js??ruleSet[1].rules[6].use[0]!./trail.vue?vue&type=style&index=0&id=340c523a&scoped=true&lang=less */ \"./node_modules/style-loader/dist/cjs.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/dist/stylePostLoader.js!./node_modules/less-loader/dist/cjs.js??clonedRuleSet-1.use[2]!./node_modules/vue-loader/dist/index.js??ruleSet[1].rules[6].use[0]!./src/views/position/trail.vue?vue&type=style&index=0&id=340c523a&scoped=true&lang=less\");\n\n\n//# sourceURL=webpack://ofilm-web/./src/views/position/trail.vue?");

/***/ }),

/***/ "./src/views/position/trail.vue?vue&type=script&lang=ts":
/*!**************************************************************!*\
  !*** ./src/views/position/trail.vue?vue&type=script&lang=ts ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* reexport safe */ _node_modules_ts_loader_index_js_clonedRuleSet_2_use_node_modules_vue_loader_dist_index_js_ruleSet_1_rules_6_use_0_trail_vue_vue_type_script_lang_ts__WEBPACK_IMPORTED_MODULE_0__.default)\n/* harmony export */ });\n/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_2_use_node_modules_vue_loader_dist_index_js_ruleSet_1_rules_6_use_0_trail_vue_vue_type_script_lang_ts__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../node_modules/ts-loader/index.js??clonedRuleSet-2.use!../../../node_modules/vue-loader/dist/index.js??ruleSet[1].rules[6].use[0]!./trail.vue?vue&type=script&lang=ts */ \"./node_modules/ts-loader/index.js??clonedRuleSet-2.use!./node_modules/vue-loader/dist/index.js??ruleSet[1].rules[6].use[0]!./src/views/position/trail.vue?vue&type=script&lang=ts\");\n \n\n//# sourceURL=webpack://ofilm-web/./src/views/position/trail.vue?");

/***/ }),

/***/ "./src/views/position/trail.vue?vue&type=template&id=340c523a&scoped=true":
/*!********************************************************************************!*\
  !*** ./src/views/position/trail.vue?vue&type=template&id=340c523a&scoped=true ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"render\": () => (/* reexport safe */ _node_modules_ts_loader_index_js_clonedRuleSet_2_use_node_modules_vue_loader_dist_templateLoader_js_ruleSet_1_rules_2_node_modules_vue_loader_dist_index_js_ruleSet_1_rules_6_use_0_trail_vue_vue_type_template_id_340c523a_scoped_true__WEBPACK_IMPORTED_MODULE_0__.render)\n/* harmony export */ });\n/* harmony import */ var _node_modules_ts_loader_index_js_clonedRuleSet_2_use_node_modules_vue_loader_dist_templateLoader_js_ruleSet_1_rules_2_node_modules_vue_loader_dist_index_js_ruleSet_1_rules_6_use_0_trail_vue_vue_type_template_id_340c523a_scoped_true__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../node_modules/ts-loader/index.js??clonedRuleSet-2.use!../../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!../../../node_modules/vue-loader/dist/index.js??ruleSet[1].rules[6].use[0]!./trail.vue?vue&type=template&id=340c523a&scoped=true */ \"./node_modules/ts-loader/index.js??clonedRuleSet-2.use!./node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[2]!./node_modules/vue-loader/dist/index.js??ruleSet[1].rules[6].use[0]!./src/views/position/trail.vue?vue&type=template&id=340c523a&scoped=true\");\n\n\n//# sourceURL=webpack://ofilm-web/./src/views/position/trail.vue?");

/***/ })

}]);